++++++++++++++++++++++++++++++
Statistics on the Python C API
++++++++++++++++++++++++++++++

Line Numbers
============

Number of C API line numbers per Python version:

===========  =============  ===========  ============  ======
Python       Limited API    CPython API  Internal API  Total
===========  =============  ===========  ============  ======
2.7.0        12,392 (100%)  0 (0%)       0 (0%)        12,392
3.6.0        15,829 (100%)  0 (0%)       0 (0%)        15,829
3.7.0        16,442 (96%)   0 (0%)       678 (4%)      17,120
3.8.0        13,147 (70%)   3,418 (18%)  2,207 (12%)   18,772
3.9.0        12,243 (62%)   4,359 (22%)  3,084 (16%)   19,686
3.10.0       10,408 (51%)   4,584 (22%)  5,519 (27%)   20,511
3.11.0       9,232 (37%)    5,407 (22%)  10,047 (41%)  24,686
3.12 (dev)   9,598 (29%)    5,815 (18%)  17,631 (53%)  33,044
main (3.13)  9,344 (28%)    4,924 (15%)  18,742 (57%)  33,010
===========  =============  ===========  ============  ======

File Numbers
============

Number of header file numbers per Python version:

===========  ===========  ===========  ============  =========
Python       Limited API  CPython API  Internal API  Total
===========  ===========  ===========  ============  =========
2.7.0        91           0            0             91
3.6.0        99 (+8)      0 (same)     0 (same)      99 (+8)
3.7.0        99 (same)    0 (same)     11 (+11)      110 (+11)
3.8.0        97 (-2)      15 (+15)     21 (+10)      133 (+23)
3.9.0        98 (+1)      24 (+9)      33 (+12)      155 (+22)
3.10.0       81 (-17)     32 (+8)      48 (+15)      161 (+6)
3.11.0       72 (-9)      47 (+15)     68 (+20)      187 (+26)
3.12 (dev)   72 (same)    48 (+1)      91 (+23)      211 (+24)
main (3.13)  72 (same)    50 (+2)      95 (+4)       217 (+6)
===========  ===========  ===========  ============  =========

Functions
=========

Functions exported with PyAPI_FUNC():

===========  ==========  ==========  =========  ============
Python       Public      Private     Internal   Total
===========  ==========  ==========  =========  ============
2.7.0        738         159         0          897
3.6.0        844 (+106)  382 (+223)  0 (same)   1,226 (+329)
3.7.0        869 (+25)   450 (+68)   12 (+12)   1,331 (+105)
3.8.0        909 (+40)   429 (-21)   78 (+66)   1,416 (+85)
3.9.0        919 (+10)   412 (-17)   109 (+31)  1,440 (+24)
3.10.0       885 (-34)   412 (same)  115 (+6)   1,412 (-28)
3.11.0       891 (+6)    360 (-52)   176 (+61)  1,427 (+15)
3.12 (dev)   928 (+37)   385 (+25)   177 (+1)   1,490 (+63)
main (3.13)  912 (-16)   241 (-144)  246 (+69)  1,399 (-91)
===========  ==========  ==========  =========  ============

Since Python 3.9, Python is now built with ``-fvisibility=hidden`` to avoid
exporting symbols which are not **explicitly** exported.

The ``make smelly`` command checks for public symbols of libpython and C
extension which are prefixed by ``Py`` or ``_Py``. See
the ``Tools/scripts/smelly.py`` script.

Variables
=========

Symbols exported with PyAPI_DATA():

===========  ==========  ========  =========  ==========
Python       Public      Private   Internal   Total
===========  ==========  ========  =========  ==========
2.7.0        129         30        0          159
3.6.0        167 (+38)   42 (+12)  0 (same)   209 (+50)
3.7.0        170 (+3)    35 (-7)   9 (+9)     214 (+5)
3.8.0        174 (+4)    37 (+2)   12 (+3)    223 (+9)
3.9.0        173 (-1)    35 (-2)   14 (+2)    222 (-1)
3.10.0       173 (same)  33 (-2)   13 (-1)    219 (-3)
3.11.0       177 (+4)    32 (-1)   10 (-3)    219 (same)
3.12 (dev)   176 (-1)    31 (-1)   12 (+2)    219 (same)
main (3.13)  176 (same)  30 (-1)   12 (same)  218 (-1)
===========  ==========  ========  =========  ==========

Functions defined as macros and static inline functions
=======================================================

Functions defined as macros (only public) and static inline functions (public or private):

===========  ==========  =============  =========
Python       Macro       Static inline  Total
===========  ==========  =============  =========
2.7.0        274         0              274
3.6.0        306 (+32)   0 (same)       306 (+32)
3.7.0        315 (+9)    0 (same)       315 (+9)
3.8.0        314 (-1)    7 (+7)         321 (+6)
3.9.0        307 (-7)    11 (+4)        318 (-3)
3.10.0       307 (same)  18 (+7)        325 (+7)
3.11.0       269 (-38)   46 (+28)       315 (-10)
3.12 (dev)   251 (-18)   71 (+25)       322 (+7)
main (3.13)  247 (-4)    70 (-1)        317 (-5)
===========  ==========  =============  =========

Structures
==========

Structures in the Python C API:

===========  ===========  ===========  ============  =========
Python       Limited API  CPython API  Internal API  Total
===========  ===========  ===========  ============  =========
2.7.0        91           0            0             91
3.6.0        109 (+18)    0 (same)     0 (same)      109 (+18)
3.7.0        114 (+5)     0 (same)     18 (+18)      132 (+23)
3.8.0        81 (-33)     34 (+34)     28 (+10)      143 (+11)
3.9.0        68 (-13)     46 (+12)     38 (+10)      152 (+9)
3.10.0       41 (-27)     53 (+7)      91 (+53)      185 (+33)
3.11.0       19 (-22)     75 (+22)     112 (+21)     206 (+21)
3.12 (dev)   18 (-1)      84 (+9)      170 (+58)     272 (+66)
main (3.13)  18 (same)    86 (+2)      173 (+3)      277 (+5)
===========  ===========  ===========  ============  =========

Count also private structures like "_PyCFrame" and structures with names not starting with Py like "_frozen".

