++++++++++++++++++++++++++++++
Statistics on the Python C API
++++++++++++++++++++++++++++++

Line Numbers
============

Number of C API line numbers per Python version:

===========  =============  ===========  ============  ======
Python       Limited API    CPython API  Internal API  Total
===========  =============  ===========  ============  ======
2.7.0        12,392 (100%)  0 (0%)       0 (0%)        12,392
3.6.0        15,330 (100%)  0 (0%)       0 (0%)        15,330
3.7.0        15,943 (96%)   0 (0%)       678 (4%)      16,621
3.8.0        12,648 (69%)   3,418 (19%)  2,207 (12%)   18,273
3.9.0        11,744 (61%)   4,359 (23%)  3,084 (16%)   19,187
3.10.0       9,909 (50%)    4,584 (23%)  5,519 (28%)   20,012
3.11.0       8,733 (36%)    5,407 (22%)  10,047 (42%)  24,187
3.12 (dev)   8,989 (28%)    5,815 (18%)  17,631 (54%)  32,435
main (3.13)  8,749 (26%)    4,598 (13%)  20,930 (61%)  34,277
===========  =============  ===========  ============  ======

File Numbers
============

Number of header file numbers per Python version:

===========  ===========  ===========  ============  =========
Python       Limited API  CPython API  Internal API  Total
===========  ===========  ===========  ============  =========
2.7.0        91           0            0             91
3.6.0        98 (+7)      0 (same)     0 (same)      98 (+7)
3.7.0        98 (same)    0 (same)     11 (+11)      109 (+11)
3.8.0        96 (-2)      15 (+15)     21 (+10)      132 (+23)
3.9.0        97 (+1)      24 (+9)      33 (+12)      154 (+22)
3.10.0       80 (-17)     32 (+8)      48 (+15)      160 (+6)
3.11.0       71 (-9)      47 (+15)     68 (+20)      186 (+26)
3.12 (dev)   70 (-1)      48 (+1)      91 (+23)      209 (+23)
main (3.13)  71 (+1)      50 (+2)      97 (+6)       218 (+9)
===========  ===========  ===========  ============  =========

Functions
=========

Functions exported with PyAPI_FUNC():

===========  ==========  ==========  =========  ============
Python       Public      Private     Internal   Total
===========  ==========  ==========  =========  ============
2.7.0        738         159         0          897
3.6.0        844 (+106)  382 (+223)  0 (same)   1,226 (+329)
3.7.0        869 (+25)   450 (+68)   12 (+12)   1,331 (+105)
3.8.0        909 (+40)   429 (-21)   78 (+66)   1,416 (+85)
3.9.0        919 (+10)   412 (-17)   109 (+31)  1,440 (+24)
3.10.0       885 (-34)   412 (same)  115 (+6)   1,412 (-28)
3.11.0       891 (+6)    360 (-52)   176 (+61)  1,427 (+15)
3.12 (dev)   928 (+37)   385 (+25)   177 (+1)   1,490 (+63)
main (3.13)  937 (+9)    160 (-225)  158 (-19)  1,255 (-235)
===========  ==========  ==========  =========  ============

Since Python 3.9, Python is now built with ``-fvisibility=hidden`` to avoid
exporting symbols which are not **explicitly** exported.

The ``make smelly`` command checks for public symbols of libpython and C
extension which are prefixed by ``Py`` or ``_Py``. See
the ``Tools/scripts/smelly.py`` script.

Variables
=========

Symbols exported with PyAPI_DATA():

===========  ==========  ========  ========  ==========
Python       Public      Private   Internal  Total
===========  ==========  ========  ========  ==========
2.7.0        129         30        0         159
3.6.0        167 (+38)   42 (+12)  0 (same)  209 (+50)
3.7.0        170 (+3)    35 (-7)   9 (+9)    214 (+5)
3.8.0        174 (+4)    37 (+2)   12 (+3)   223 (+9)
3.9.0        173 (-1)    35 (-2)   14 (+2)   222 (-1)
3.10.0       173 (same)  33 (-2)   13 (-1)   219 (-3)
3.11.0       177 (+4)    32 (-1)   10 (-3)   219 (same)
3.12 (dev)   176 (-1)    29 (-3)   12 (+2)   217 (-2)
main (3.13)  177 (+1)    15 (-14)  13 (+1)   205 (-12)
===========  ==========  ========  ========  ==========

Public functions defined as macros and static inline functions
==============================================================

Public functions defined as macros and static inline functions:

===========  ==========  =============  ==========
Python       Macro       Static inline  Total
===========  ==========  =============  ==========
2.7.0        274         0              274
3.6.0        306 (+32)   0 (same)       306 (+32)
3.7.0        315 (+9)    0 (same)       315 (+9)
3.8.0        314 (-1)    0 (same)       314 (-1)
3.9.0        307 (-7)    0 (same)       307 (-7)
3.10.0       307 (same)  0 (same)       307 (same)
3.11.0       269 (-38)   42 (+42)       311 (+4)
3.12 (dev)   251 (-18)   64 (+22)       315 (+4)
main (3.13)  246 (-5)    63 (-1)        309 (-6)
===========  ==========  =============  ==========

Only count public macros and public static inline functions (names starting with "Py" or "PY").

Private functions defined as macros and static inline functions
===============================================================

Private functions defined as macros and static inline functions:

===========  ========  =============  ========
Python       Macro     Static inline  Total
===========  ========  =============  ========
2.7.0        21        0              21
3.6.0        60 (+39)  0 (same)       60 (+39)
3.7.0        70 (+10)  0 (same)       70 (+10)
3.8.0        57 (-13)  7 (+7)         64 (-6)
3.9.0        43 (-14)  11 (+4)        54 (-10)
3.10.0       44 (+1)   18 (+7)        62 (+8)
3.11.0       53 (+9)   4 (-14)        57 (-5)
3.12 (dev)   64 (+11)  7 (+3)         71 (+14)
main (3.13)  56 (-8)   7 (same)       63 (-8)
===========  ========  =============  ========

Only count private macros and public static inline functions (ignore names starting with "Py" or "PY").

Structures
==========

Structures in the Python C API:

===========  ===========  ===========  ============  =========
Python       Limited API  CPython API  Internal API  Total
===========  ===========  ===========  ============  =========
2.7.0        91           0            0             91
3.6.0        109 (+18)    0 (same)     0 (same)      109 (+18)
3.7.0        114 (+5)     0 (same)     18 (+18)      132 (+23)
3.8.0        81 (-33)     34 (+34)     28 (+10)      143 (+11)
3.9.0        68 (-13)     46 (+12)     38 (+10)      152 (+9)
3.10.0       41 (-27)     53 (+7)      91 (+53)      185 (+33)
3.11.0       19 (-22)     75 (+22)     112 (+21)     206 (+21)
3.12 (dev)   18 (-1)      84 (+9)      170 (+58)     272 (+66)
main (3.13)  18 (same)    84 (same)    176 (+6)      278 (+6)
===========  ===========  ===========  ============  =========

Count also private structures like "_PyCFrame" and structures with names not starting with Py like "_frozen".

